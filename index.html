<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDì‚¬ê´€í•™êµ ì‹ ì…1ê¸° ì œì‘ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;800&display=swap');
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f1f5f9;
            color: #0f172a;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        #canvas-container {
            width: 95%;
            max-width: 1200px;
            margin-bottom: 20px;
            margin-top: 20px;
        }
        canvas {
            background-color: transparent;
            cursor: pointer;
            display: block;
        }
        /* ìƒì„¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        #detail-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 92%;
            max-width: 650px;
            max-height: 88vh;
            overflow-y: auto;
            background: #ffffff;
            border-radius: 1.5rem;
            padding: 0;
            z-index: 100;
            box-shadow: 0 40px 100px rgba(0,0,0,0.3);
            border: 1px solid #e2e8f0;
        }
        .modal-header {
            position: sticky;
            top: 0;
            background: #ffffff;
            padding: 1.5rem 2rem 1rem 2rem;
            z-index: 50;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-body {
            padding: 1.5rem 2rem 2rem 2rem;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.6);
            z-index: 90;
            backdrop-filter: blur(4px);
        }
        .source-link {
            display: inline-flex;
            align-items: center;
            padding: 0.6rem 1rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            font-weight: 700;
            color: #475569;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease;
        }
        .source-link:hover {
            border-color: #3b82f6;
            color: #2563eb;
            background: #eff6ff;
        }
        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #f1f5f9;
            font-size: 0.95rem;
            color: #334155;
        }
        .section-header {
            font-size: 0.7rem;
            font-weight: 800;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }
    </style>
</head>
<body>

    <div class="pt-12 pb-6 text-center px-4">
        <h1 class="text-5xl md:text-7xl font-black tracking-tighter text-slate-900 mb-4">
            PDì‚¬ê´€í•™êµ ì‹ ì…1ê¸°
        </h1>
        <p class="text-blue-700 font-bold text-sm md:text-base bg-blue-100/50 border border-blue-200 px-6 py-2.5 rounded-full inline-block shadow-sm">
            ğŸ’¡ ë§ˆìš°ìŠ¤ë¥¼ ê°€ì ¸ë‹¤ ëŒ€ë©´ ê°„ëµ ì •ë³´ë¥¼, í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
    </div>

    <div id="canvas-container">
        <canvas id="flowCanvas"></canvas>
    </div>

    <div id="overlay" class="overlay"></div>
    <div id="detail-modal">
        <div class="modal-header">
            <div>
                <span id="modal-tag" class="text-[10px] px-2 py-0.5 bg-slate-900 text-white rounded font-bold uppercase inline-block mb-1">PD SCHOOL</span>
                <h2 id="modal-title" class="text-2xl md:text-3xl font-black text-slate-900">ë‹¨ê³„ ì œëª©</h2>
            </div>
            <button onclick="closeModal()" class="p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        
        <div class="modal-body space-y-8">
            <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                <h3 class="section-header" style="color: #1d4ed8;">ğŸ¯ í•µì‹¬ ëª©í‘œ (Goal)</h3>
                <p id="modal-goal" class="text-blue-900 font-black text-xl">ë‚´ìš©</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-slate-50 p-5 rounded-xl border border-slate-200">
                    <h3 class="section-header">ğŸ“¥ ì…ë ¥ (Input)</h3>
                    <p id="modal-input" class="text-slate-900 font-bold text-base">ë‚´ìš©</p>
                </div>
                <div class="bg-indigo-50 p-5 rounded-xl border border-indigo-100">
                    <h3 class="section-header" style="color: #6366f1;">ğŸ› ï¸ ì¤€ë¹„ë¬¼ (Tools)</h3>
                    <p id="modal-prep" class="text-indigo-900 font-bold text-base">ë‚´ìš©</p>
                </div>
            </div>

            <div class="bg-emerald-50 p-6 rounded-xl border border-emerald-100">
                <h3 class="section-header" style="color: #10b981;">ğŸ“¤ ê²°ê³¼ë¬¼ (Outcome)</h3>
                <p id="modal-output" class="text-emerald-900 font-black text-xl">ë‚´ìš©</p>
            </div>

            <div id="source-section">
                <h3 class="section-header">ğŸ”— ë°”ë¡œê°€ê¸° ë¦¬ì†ŒìŠ¤</h3>
                <div id="modal-sources" class="flex flex-wrap"></div>
            </div>

            <div class="bg-amber-50 p-6 rounded-xl border border-amber-100">
                <h3 class="section-header" style="color: #d97706;">âœ… í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                <div id="modal-checklist" class="space-y-0.5"></div>
            </div>

            <section class="pb-4">
                <h3 class="section-header">âš™ï¸ ìƒì„¸ ê°€ì´ë“œ</h3>
                <ul id="modal-details" class="space-y-2 text-slate-600 text-sm list-disc list-inside"></ul>
            </section>
            
            <button onclick="closeModal()" class="w-full py-4 bg-slate-900 text-white rounded-xl font-bold text-lg hover:bg-black transition-all">
                ì°½ ë‹«ê¸°
            </button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('flowCanvas');
        const ctx = canvas.getContext('2d');
        const modal = document.getElementById('detail-modal');
        const overlay = document.getElementById('overlay');

        let isMobile = window.innerWidth < 768;
        let dpr = window.devicePixelRatio || 1;
        let logicalWidth, logicalHeight;

        const steps = [
            {
                id: 1, title: "ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„", goal: "ë°”ì´ëŸ´ í…Œë§ˆ ë° ì„±ê³µ íŒ¨í„´ í™•ë³´", input: "ì°¸ì¡° ì˜ìƒ ì¸ë„¤ì¼, ì œëª©, ëŒ€ë³¸", prep: "Vidiq, YT Summary", output: "ê¸°ì´ˆ ë¶„ì„ ë°ì´í„° (ë©”ëª¨ì¥ 1)", pass: "ë©”ëª¨ì¥ 1",
                extraDesc: "Vidiq ìƒˆë¡œê³ ì¹¨ í›„ ëŒ€ë³¸ ë³µì‚¬ ë²„íŠ¼ì„ í™•ì¸í•˜ì„¸ìš”. ì¸ë„¤ì¼ì€ ì›ë³¸ í¬ê¸°ë¡œ í™•ë³´í•˜ëŠ” ê²ƒì´ ë¶„ì„ì— ìœ ë¦¬í•©ë‹ˆë‹¤.",
                passDesc: "ìˆ˜ì§‘ëœ ê¸°ì´ˆ ë°ì´í„°ë¥¼ ë©”ëª¨ì¥ 1ì— ë‹´ì•„ 2ë‹¨ê³„ ê¸°íš íŒŒíŠ¸ë¡œ ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["ì¡°íšŒìˆ˜ ìš°ìƒí–¥(VPH) ì˜ìƒ ìœ„ì£¼ ì„ ì •", "YouTube Summaryë¡œ ì „ì²´ ëŒ€ë³¸ ìŠ¤í¬ë˜í•‘", "ì„±ê³µì ì¸ ìê·¹ì  í‚¤ì›Œë“œ ë° íŒ¨í„´ ë¶„ë¥˜"],
                sources: [
                    { name: "Vidiq", url: "https://chromewebstore.google.com/detail/vidiq-vision-for-youtube/pachckjkecffpdphbpmfolblodfkgbhl" }, 
                    { name: "YT Summary", url: "https://chromewebstore.google.com/detail/youtube-summary-with-chat/nmmicjeknamkfloonkhhcjmomieiodli" },
                    { name: "ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì´íŠ¸ ëª¨ìŒ(ì¹´í˜)", url: "https://m.cafe.naver.com/ca-fe/web/cafes/31630047/articles/4?fromList=true&tc=cafe_home_all_articles" }
                ],
                checklist: ["VPH ìˆ˜ì¹˜ê°€ í˜„ì¬ ì‚´ì•„ìˆëŠ” ì˜ìƒì¸ê°€?", "ê²½ìŸ ì˜ìƒì˜ í´ë¦­ ìœ ë„ í¬ì¸íŠ¸ë¥¼ ì°¾ì•˜ëŠ”ê°€?"],
                color: "#3b82f6"
            },
            {
                id: 2, title: "ì œë¯¸ë‚˜ì´ ê¸°íš", goal: "ì°¨ë³„í™”ëœ ì»¨ì…‰ ë° ê³ í›„í‚¹ ì œëª© í™•ì •", input: "ë©”ëª¨ì¥ 1 ë¶„ì„ ë°ì´í„°", prep: "ë°©PD ì „ìš© Gemini Gems", output: "ìŠ¤í† ë¦¬ ê¸°íšì•ˆ (ë©”ëª¨ì¥ 2)", pass: "ë©”ëª¨ì¥ 2",
                extraDesc: "ì œë¯¸ë‚˜ì´ì™€ ëŒ€í™”í•˜ë©° ì œëª©ì˜ ì„íŒ©íŠ¸ë¥¼ ê·¹ëŒ€í™”í•˜ì„¸ìš”. ì¼ë³¸ ì‹œë‹ˆì–´ì˜ ê°ì„±ì„ ê±´ë“œë¦¬ëŠ” 'ì œëª© ë””í…Œì¼'ì´ ì¡°íšŒìˆ˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.",
                passDesc: "í™•ì •ëœ ì œëª©ê³¼ ìºë¦­í„° ì„¤ì •ì´ ë‹´ê¸´ ë©”ëª¨ì¥ 2ë¥¼ ì‘ê°€ 1ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["ì‹œë‹ˆì–´ 6ëŒ€ ìš•êµ¬ ê¸°ë°˜ ìŠ¤í† ë¦¬ ê°ìƒ‰", "ì œë¯¸ë‚˜ì´ ëŒ€í™”í˜• ì œëª© íŠœë‹ í”„ë¡œì„¸ìŠ¤", "ë©”ì¸ í‚¤ì›Œë“œ ë° ì¸ë„¤ì¼ ë¬¸êµ¬ 1ì°¨ í™•ì •"],
                sources: [
                    { name: "ë°©PD ì œë¯¸ë‚˜ì´", url: "https://gemini.google.com/gem/1_B9d7iMSJhaKfDCQHTcqfroUUx39V0Di" },
                    { name: "ì œëª© ë””í…Œì¼ ì „ëµ(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/55" }
                ],
                checklist: ["ì œëª©ì´ ì‹œì²­ìì˜ í˜¸ê¸°ì‹¬ì„ ê°•í•˜ê²Œ ìê·¹í•˜ëŠ”ê°€?", "ì¸ë¬¼ì˜ ë‚˜ì´ì™€ ìƒí™© ì„¤ì •ì´ ëª…í™•í•œê°€?"],
                color: "#2563eb"
            },
            {
                id: 3, title: "ì‘ê°€ 1 (ì¸íŠ¸ë¡œ)", goal: "ì´ˆë°˜ 45ì´ˆ ì´íƒˆ ë°©ì§€ ë° ê°ì • í›„í‚¹", input: "ë©”ëª¨ì¥ 2 ê¸°íšì•ˆ", prep: "Claude Project (ì‘ê°€ 1)", output: "ì¸íŠ¸ë¡œ ëŒ€ë³¸ (ë©”ëª¨ì¥ 3)", pass: "ë©”ëª¨ì¥ 3",
                extraDesc: "ë³´ì¡°ì‘ê°€ ì‚¬ìš©ë²•(ì¹´í˜ ê°•ì˜)ì„ ì°¸ê³ í•˜ì—¬ í´ë¡œë“œ í”„ë¡œì íŠ¸ë¥¼ ì„¸íŒ…í•˜ì„¸ìš”. ì¸íŠ¸ë¡œ ê²€í†  í”„ë¡¬í”„íŠ¸ë¥¼ í™œìš©í•´ í›„í‚¹ ìš”ì†Œë¥¼ ìµœì¢… ì ê²€í•˜ì„¸ìš”.",
                passDesc: "ì´ˆë°˜ ì´íƒˆì„ ë§‰ëŠ” ê°•ë ¥í•œ ì¸íŠ¸ë¡œ ëŒ€ë³¸(ë©”ëª¨ì¥ 3)ì„ ì‘ê°€ 2ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["45ì´ˆ ì¶©ê²© í›„í‚¹ ì¸íŠ¸ë¡œ ì „ë¬¸ ì§‘í•„", "ì²« 3ì´ˆ ë‚´ í•µì‹¬ í‚¤ì›Œë“œ ë°°ì¹˜", "ì¸íŠ¸ë¡œ ê²€í†  í”„ë¡¬í”„íŠ¸ë¥¼ í†µí•œ í€„ë¦¬í‹° ìƒí–¥"],
                sources: [
                    { name: "Claude AI", url: "https://claude.ai/" }, 
                    { name: "ì‘ê°€ 1 ì§€ì¹¨(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/41" },
                    { name: "ë³´ì¡°ì‘ê°€ ê°€ì´ë“œ(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/48" },
                    { name: "ì¸íŠ¸ë¡œ ì´¬ì˜ê¸°ë²•(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/43" },
                    { name: "ì¸íŠ¸ë¡œ ê²€í†  í”„ë¡¬í”„íŠ¸(ì¹´í˜)", url: "https://m.cafe.naver.com/ca-fe/web/cafes/31630047/articles/49?fromList=true&tc=cafe_home_all_articles" }
                ],
                checklist: ["ì²« ë¬¸ì¥ì—ì„œ ë°”ë¡œ ê°ˆë“±ì´ ì‹œì‘ë˜ëŠ”ê°€?", "ê²€í†  í”„ë¡¬í”„íŠ¸ë¥¼ í†µí•´ ì¸íŠ¸ë¡œë¥¼ ë‹¤ë“¬ì—ˆëŠ”ê°€?"],
                color: "#8b5cf6"
            },
            {
                id: 4, title: "ì‘ê°€ 2 (ë³¸ë¬¸)", goal: "ê¶Œì„ ì§•ì•… ê¸°ë°˜ ê³ ë¶„ëŸ‰ ì„œì‚¬ ì™„ì„±", input: "ë©”ëª¨ì¥ 3 (ì±•í„° 1)", prep: "Claude Project (ì‘ê°€ 2)", output: "ì „ì²´ í•œê¸€ ëŒ€ë³¸ (ë©”ëª¨ì¥ 4)", pass: "ë©”ëª¨ì¥ 4",
                extraDesc: "ì‘ê°€ 2ëŠ” ìŠ¤í† ë¦¬ì˜ ë³¼ë¥¨ì„ ì±…ì„ì§‘ë‹ˆë‹¤. ì±•í„°ë³„ ì´ë¯¸ì§€ ìƒì„±ìš© ë²ˆí˜¸ íƒœê·¸ê°€ ëˆ„ë½ë˜ì§€ ì•Šë„ë¡ ë§¤ë²ˆ ì²´í¬í•˜ì„¸ìš”.",
                passDesc: "ì „ì²´ êµ¬ì„±ê³¼ ì´ë¯¸ì§€ íƒœê·¸ê°€ ì™„ë£Œëœ í•œê¸€ ëŒ€ë³¸ì„ ì‘ê°€ 3ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["ì±•í„°ë³„ 1,200ì ë‚´ì™¸ ìƒì„¸ ì§‘í•„", "ì¥ë©´ë³„ ì´ë¯¸ì§€ ë¬˜ì‚¬ í”„ë¡¬í”„íŠ¸ íƒœê·¸ ì‚½ì…", "ê¶Œì„ ì§•ì•…í˜• ìŠ¤í† ë¦¬ êµ¬ì¡° ê°•í™”"],
                sources: [
                    { name: "Claude AI", url: "https://claude.ai/" }, 
                    { name: "ì‘ê°€ 2 ì§€ì¹¨(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/41" },
                    { name: "ë³´ì¡°ì‘ê°€ ê°€ì´ë“œ(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/48" }
                ],
                checklist: ["ê° ì±•í„°ì˜ ë¶„ëŸ‰ì´ ì¶©ë¶„íˆ í™•ë³´ë˜ì—ˆëŠ”ê°€?", "ì¥ë©´ë§ˆë‹¤ ì´ë¯¸ì§€ ë²ˆí˜¸ íƒœê·¸ê°€ ë¶™ì–´ìˆëŠ”ê°€?"],
                color: "#6366f1"
            },
            {
                id: 5, title: "ì‘ê°€ 3 (í˜„ì§€í™”)", goal: "ì¼ë³¸ í˜„ì§€ì¸ ê°ì„± êµ¬í˜„ ë° ì œì‘ íŒ¨í‚¤ì§•", input: "ë©”ëª¨ì¥ 4 í•œê¸€ ëŒ€ë³¸", prep: "Claude Project (ì‘ê°€ 3)", output: "ìµœì¢… ì¼ì–´ ëŒ€ë³¸ + ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ (ë©”ëª¨ì¥ 5)", pass: "ë©”ëª¨ì¥ 5",
                extraDesc: "ì‘ê°€ 3ì€ ìµœì¢… ëŒ€ë³¸ê³¼ ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ë¥¼ íŒ¨í‚¤ì§•í•©ë‹ˆë‹¤. ì¼ë³¸ ì‹œë‹ˆì–´ìš© ê²½ì–´ì™€ í˜¸ì¹­ì´ ì–´ìƒ‰í•˜ì§€ ì•Šì€ì§€ ê²€ìˆ˜í•˜ì„¸ìš”.",
                passDesc: "ì œì‘ ë‹¨ê³„ì—ì„œ ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ì¼ë³¸ì–´ ëŒ€ë³¸ ì„¸íŠ¸ë¥¼ í¸ì§‘íŒ€ì— ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["ì¼ë³¸ ì‹œë‹ˆì–´ ë§ì¶¤í˜• ê²½ì–´/í˜¸ì¹­ êµì •", "AITTS ë‚­ë… ìµœì í™”ìš© ë¬¸ì¥ ë¶€í˜¸ ì‘ì—…", "ì´ë¯¸ì§€ ìƒì„±ìš© ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ ìµœì¢… ì ê²€"],
                sources: [
                    { name: "Claude AI", url: "https://claude.ai/" }, 
                    { name: "í˜„ì§€í™” ì§€ì¹¨(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/41" },
                    { name: "ë³´ì¡°ì‘ê°€ ê°€ì´ë“œ(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/48" }
                ],
                checklist: ["ì¼ë³¸ì–´ ë§íˆ¬ê°€ ì •ì¤‘í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ê°€?", "ì´ë¯¸ì§€ìš© ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ê°€ ëª¨ë‘ í¬í•¨ë˜ì—ˆëŠ”ê°€?"],
                color: "#d946ef"
            },
            {
                id: 6, title: "ì´ë¯¸ì§€ ë° ì˜ìƒ í¸ì§‘", goal: "ì‹œë„¤ë§ˆí‹± ê°ì„± ë° ê³ í€„ë¦¬í‹° ì˜ìƒ ì œì‘", input: "ë©”ëª¨ì¥ 5 íŒ¨í‚¤ì§€", prep: "Whisk, Vrew, Grok", output: "í¸ì§‘ ì™„ë£Œ ì˜ìƒ (MP4)", pass: "ìµœì¢… ì˜ìƒ",
                extraDesc: "Vrew ì„¤ì •ê°’ ì—„ìˆ˜! ë³´ì¡° í”„ë¡¬í”„íŠ¸ë¥¼ í™œìš©í•´ Grokì´ë‚˜ VEO3 ë“±ì—ì„œ ê³ í€„ë¦¬í‹° ì˜ìƒ ì†ŒìŠ¤ë¥¼ ì¶”ì¶œí•˜ì„¸ìš”.",
                passDesc: "ìµœì¢… ê²€ìˆ˜ ì™„ë£Œëœ MP4 íŒŒì¼ì„ ì—…ë¡œë“œ ë‹´ë‹¹ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”.",
                details: ["ë³´ì¡° í”„ë¡¬í”„íŠ¸ë¥¼ í™œìš©í•œ ì‹œë„¤ë§ˆí‹± ì´ë¯¸ì§€/ì˜ìƒ ìƒì„±", "Vrew AI ìŒì„± í•©ì„± ë° ìë§‰ ë°°ì¹˜", "ìë§‰ ê·œê²© í°íŠ¸ 180 / ìœ„ì¹˜ 110 ê³ ì •"],
                sources: [
                    { name: "Whisk", url: "https://labs.google/fx/ko" }, 
                    { name: "Vrew ë‹¤ìš´ë¡œë“œ", url: "https://vrew.ai/ko/" },
                    { name: "ì´ë¯¸ì§€/ì˜ìƒ ë³´ì¡° í”„ë¡¬í”„íŠ¸(ì¹´í˜)", url: "https://m.cafe.naver.com/ca-fe/web/cafes/31630047/articles/49?fromList=true&tc=cafe_home_all_articles" }
                ],
                checklist: ["ìë§‰ í¬ê¸°ì™€ ìœ„ì¹˜ê°€ ê·œê²©ì— ë§ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ê°€?", "ì˜ìƒ ì†ŒìŠ¤ì˜ í€„ë¦¬í‹°ê°€ ì¶©ë¶„íˆ í™•ë³´ë˜ì—ˆëŠ”ê°€?"],
                color: "#10b981"
            },
            {
                id: 7, title: "ì¸ë„¤ì¼Â·ì œëª© ìƒì„±", goal: "CTR ê·¹ëŒ€í™” ì¸ë„¤ì¼ ë° SEO ì œëª© í™•ì •", input: "ì˜ìƒ ê¸°íš ë°ì´í„°", prep: "ImageFX, Canva", output: "ìµœì¢… ì¸ë„¤ì¼ & SEO ì œëª©", pass: "ì—…ë¡œë“œ íŒ¨í‚¤ì§€",
                extraDesc: "ì¹´í˜ ê°•ì˜ì˜ 'ì¸ë„¤ì¼ ë¬¸êµ¬ 2ì¤„ ë²•ì¹™'ì„ ì ìš©í•˜ì„¸ìš”. ë³´ì¡° í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë¬¼ì˜ í‘œì •ì„ ê·¹ë‹¨ì ìœ¼ë¡œ ê°•ì¡°í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.",
                passDesc: "ìµœì¢… ì˜ìƒê³¼ ì¸ë„¤ì¼, ì œëª©ì„ ê°€ì§€ê³  ìœ íŠœë¸Œ ì—…ë¡œë“œë¥¼ ì§„í–‰í•˜ì„¸ìš”.",
                details: ["ë³´ì¡° í”„ë¡¬í”„íŠ¸ë¥¼ í™œìš©í•œ í‘œì • ê°•ì¡° ì¸ë„¤ì¼ ìƒì„±", "ëŒ€ê´„í˜¸ ã€Œã€ í¬í•¨ ì¼ë³¸ì‹ SEO ì œëª© í™•ì •", "ê°•ì˜ ê¸°ë°˜ í›„í‚¹ ë¬¸êµ¬ ë””í…Œì¼ë§"],
                sources: [
                    { name: "ImageFX", url: "https://labs.google/fx/ko" }, 
                    { name: "ì¸ë„¤ì¼ ë””í…Œì¼ ê°•ì˜(ì¹´í˜)", url: "https://cafe.naver.com/banginapd/56" },
                    { name: "ì¸ë„¤ì¼ ì´ë¯¸ì§€ ë³´ì¡° í”„ë¡¬í”„íŠ¸(ì¹´í˜)", url: "https://m.cafe.naver.com/ca-fe/web/cafes/31630047/articles/49?fromList=true&tc=cafe_home_all_articles" },
                    { name: "í…Œë§ˆë³„ ì¸ë„¤ì¼ ë¬¸êµ¬(ì¹´í˜)", url: "https://m.cafe.naver.com/ca-fe/web/cafes/31630047/articles/69?fromList=true&tc=cafe_home_all_articles" }
                ],
                checklist: ["ì¸ë„¤ì¼ ë¬¸êµ¬ê°€ ì‹œê°ì ìœ¼ë¡œ ê°•ì¡°ë˜ì—ˆëŠ”ê°€?", "ì¸ë¬¼ì˜ ê°ì •(ì˜¤ì—´, ë¶„ë…¸ ë“±)ì´ ì˜ ë“œëŸ¬ë‚˜ëŠ”ê°€?"],
                color: "#059669"
            },
            {
                id: 8, title: "ì—…ë¡œë“œ ë° ë°ì´í„°ë¶„ì„", goal: "íƒ€ê²Ÿ ë…¸ì¶œ ê·¹ëŒ€í™” ë° í”¼ë“œë°± ë°ì´í„° í™•ë³´", input: "ìµœì¢… ì˜ìƒ íŒ¨í‚¤ì§€", prep: "Nox, SocialBlade", output: "ì±„ë„ ì—…ë¡œë“œ ì™„ë£Œ", pass: "ì„±ê³¼ ë¦¬í¬íŠ¸",
                extraDesc: "ì´ˆê¸° 24ì‹œê°„ ì‹œì²­ ì§€í‘œê°€ ë‹¤ìŒ ê¸°íšì˜ ì •ë‹µì…ë‹ˆë‹¤. ê²½ìŸ ì±„ë„ì˜ íƒœê·¸ë¥¼ ì°¸ê³ í•˜ì—¬ ë…¸ì¶œëŸ‰ì„ ëŠ˜ë¦¬ì„¸ìš”.",
                passDesc: "ë¶„ì„ëœ ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ì—¬ ë‹¤ìŒ ì˜ìƒ ê¸°íšì— ë°˜ì˜í•˜ì„¸ìš”.",
                details: ["êµ­ê°€ íƒ€ê²ŸíŒ… ì„¤ì • ë° íƒœê·¸ ìµœì í™” ì—…ë¡œë“œ", "Nox ë“±ì„ í†µí•œ ì±„ë„ ìˆ˜ìµì„± ëª¨ë‹ˆí„°ë§", "ì‹œì²­ ìœ ì§€ìœ¨ ê¸°ë°˜ ë‹¤ìŒ ê¸°íš í…Œë§ˆ ì„ ì •"],
                sources: [{ name: "ìˆ˜ìµ í™•ì¸ê¸°", url: "https://isthischannelmonetized.com/" }],
                checklist: ["ì¼ë³¸ íƒ€ê²Ÿ êµ­ê°€ ì„¤ì •ì´ í™•ì¸ë˜ì—ˆëŠ”ê°€?", "ì´ˆê¸° 24ì‹œê°„ VPH ìˆ˜ì¹˜ë¥¼ ê¸°ë¡í–ˆëŠ”ê°€?"],
                color: "#f59e0b"
            }
        ];

        let hoveredStep = null;
        let hoveredArtifact = null;
        const artifactBoxes = [];

        function initCanvas() {
            isMobile = window.innerWidth < 768;
            dpr = window.devicePixelRatio || 1;
            logicalWidth = isMobile ? window.innerWidth : 1100;
            logicalHeight = isMobile ? 2400 : 900; 
            canvas.width = logicalWidth * dpr;
            canvas.height = logicalHeight * dpr;
            canvas.style.width = logicalWidth + 'px';
            canvas.style.height = logicalHeight + 'px';
            ctx.scale(dpr, dpr);
            draw();
        }

        function drawCard(step, isH) {
            let x, y, w = 230, h = 230; 
            if (isMobile) {
                x = logicalWidth / 2 - 250; y = (step.id - 1) * 260 + 40;
                w = 500; h = 230;
            } else {
                x = step.id <= 4 ? (step.id - 1) * 270 + 20 : (8 - step.id) * 270 + 20;
                y = step.id <= 4 ? 60 : 440;
            }
            step.currentPos = { x, y, w, h };

            const radius = 16;
            
            ctx.save();
            ctx.shadowBlur = isH ? 25 : 12; 
            ctx.shadowColor = isH ? step.color + "33" : "rgba(0,0,0,0.06)"; 
            ctx.shadowOffsetY = isH ? 8 : 4;
            ctx.fillStyle = "#ffffff"; 
            drawRoundedRect(x, y, w, h, radius, true, true);
            ctx.restore();

            ctx.save();
            ctx.beginPath();
            const barWidth = 8;
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + barWidth, y);
            ctx.lineTo(x + barWidth, y + h);
            ctx.lineTo(x + radius, y + h);
            ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.fillStyle = step.color;
            ctx.fill();
            ctx.restore();

            const badgeX = x + 24, badgeY = y + 30;
            ctx.fillStyle = "#f1f5f9";
            drawRoundedRect(badgeX - 6, badgeY - 14, isMobile ? 48 : 34, isMobile ? 32 : 24, 6, true, false);
            ctx.fillStyle = step.color;
            ctx.font = `900 ${isMobile ? 18 : 12}px Pretendard`;
            ctx.textAlign = "center";
            ctx.fillText(step.id.toString().padStart(2, '0'), badgeX + (isMobile ? 18 : 11), badgeY + (isMobile ? 8 : 4));

            ctx.textAlign = "left";
            ctx.fillStyle = "#1e293b";
            ctx.font = `800 ${isMobile ? 28 : 17}px Pretendard`;
            
            const titleX = badgeX + (isMobile ? 65 : 45);
            const titleMaxWidth = w - (isMobile ? 110 : 70);
            const titleLineHeight = isMobile ? 32 : 20;
            
            const titleLines = getWrappedLines(step.title, titleMaxWidth);
            titleLines.forEach((line, idx) => {
                ctx.fillText(line, titleX, badgeY + (isMobile ? 9 : 5) + (idx * titleLineHeight));
            });

            const labelX = x + 24;
            const titleHeightOffset = (titleLines.length - 1) * titleLineHeight;
            const contentY = y + (isMobile ? 80 : 70) + titleHeightOffset;
            const lineSpace = isMobile ? 42 : 32;

            function drawEntry(label, content, icon, color, posY) {
                ctx.font = `bold ${isMobile ? 16 : 10}px Pretendard`;
                ctx.fillStyle = "#94a3b8";
                ctx.fillText(icon + " " + label, labelX, posY);
                ctx.font = `700 ${isMobile ? 19 : 12}px Pretendard`;
                ctx.fillStyle = color;
                wrapText(content, labelX, posY + (isMobile ? 24 : 16), w - 44, isMobile ? 26 : 14);
            }

            drawEntry("ëª©í‘œ", step.goal, "ğŸ¯", "#3b82f6", contentY);
            drawEntry("ì…ë ¥", step.input, "ğŸ“¥", "#64748b", contentY + lineSpace * 1.5);
            drawEntry("ê²°ê³¼", step.output, "ğŸ“¤", "#10b981", contentY + lineSpace * 3);
        }

        function getWrappedLines(text, maxWidth) {
            const words = text.split(' ');
            let lines = [];
            let currentLine = '';

            for (let n = 0; n < words.length; n++) {
                let testLine = currentLine + words[n] + ' ';
                if (ctx.measureText(testLine).width > maxWidth && n > 0) {
                    lines.push(currentLine.trim());
                    currentLine = words[n] + ' ';
                } else {
                    currentLine = testLine;
                }
            }
            lines.push(currentLine.trim());
            return lines;
        }

        function drawDataFlow(sIdx) {
            const s = steps[sIdx]; const e = steps[sIdx + 1];
            if (!s.currentPos || !e.currentPos) return;
            let fromX, fromY, toX, toY;
            if (isMobile) {
                fromX = s.currentPos.x + s.currentPos.w / 2; fromY = s.currentPos.y + s.currentPos.h;
                toX = fromX; toY = e.currentPos.y;
            } else {
                if (s.id === 4) {
                    fromX = s.currentPos.x + s.currentPos.w / 2; fromY = s.currentPos.y + s.currentPos.h;
                    toX = e.currentPos.x + e.currentPos.w / 2; toY = e.currentPos.y;
                } else if (s.id >= 5) {
                    fromX = s.currentPos.x; fromY = s.currentPos.y + s.currentPos.h / 2;
                    toX = e.currentPos.x + e.currentPos.w; toY = e.currentPos.y + e.currentPos.h / 2;
                } else {
                    fromX = s.currentPos.x + s.currentPos.w; fromY = s.currentPos.y + s.currentPos.h / 2;
                    toX = e.currentPos.x; toY = e.currentPos.y + e.currentPos.h / 2;
                }
            }

            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            if (!isMobile && s.id === 4) {
                ctx.bezierCurveTo(fromX, fromY + 40, toX, toY - 40, toX, toY);
            } else if (!isMobile && s.id >= 5) {
                ctx.bezierCurveTo(fromX - 40, fromY, toX + 40, toY, toX, toY);
            } else if (!isMobile) {
                ctx.bezierCurveTo(fromX + 40, fromY, toX - 40, toY, toX, toY);
            } else {
                ctx.lineTo(toX, toY);
            }
            ctx.strokeStyle = "#cbd5e1"; 
            ctx.setLineDash([6, 4]); 
            ctx.lineWidth = 1.5; 
            ctx.stroke(); 
            ctx.setLineDash([]);

            const midX = (fromX + toX) / 2;
            let midY = (fromY + toY) / 2;
            if (!isMobile && s.id === 4) midY -= 10;

            const textContent = s.pass; 
            ctx.font = `bold ${isMobile ? 20 : 12}px Pretendard`;
            const textWidth = ctx.measureText(textContent).width; 
            
            const boxW = textWidth + (isMobile ? 54 : 36); 
            const boxH = isMobile ? 44 : 28;
            const isH = hoveredArtifact && hoveredArtifact.id === s.id;
            
            ctx.save(); 
            if(isH) {
                ctx.shadowBlur = 15; 
                ctx.shadowColor = "rgba(16, 185, 129, 0.4)";
            }
            
            ctx.fillStyle = isH ? "#10b981" : "rgba(255, 255, 255, 0.9)"; 
            ctx.strokeStyle = isH ? "#059669" : "#cbd5e1"; 
            ctx.lineWidth = isH ? 2 : 1;
            
            drawRoundedRect(midX - boxW / 2, midY - boxH / 2, boxW, boxH, boxH/2, true, true);
            
            ctx.textAlign = "center"; 
            ctx.fillStyle = isH ? "#ffffff" : "#475569";
            ctx.fillText("ğŸ“„ " + textContent, midX, midY + (isMobile ? 7 : 4));
            ctx.restore();

            artifactBoxes.push({ id: s.id, x: midX - boxW / 2, y: midY - boxH / 2, w: boxW, h: boxH });
        }

        function draw() {
            ctx.clearRect(0, 0, logicalWidth, logicalHeight); artifactBoxes.length = 0;
            steps.forEach(s => drawCard(s, (hoveredStep && hoveredStep.id === s.id)));
            for (let i = 0; i < steps.length - 1; i++) drawDataFlow(i);
            
            if (hoveredStep || hoveredArtifact) {
                const h = hoveredStep || steps.find(s => s.id === hoveredArtifact.id);
                const title = hoveredArtifact ? "ğŸ”„ ì‚°ì¶œë¬¼ ê°€ì´ë“œ" : "ğŸ“ ì‹¤ë¬´ ì•¡ì…˜ ê°€ì´ë“œ";
                const desc = hoveredArtifact ? h.passDesc : h.extraDesc;
                const panelH = isMobile ? 350 : 180;
                
                ctx.save(); 
                ctx.fillStyle = "rgba(255, 255, 255, 1)"; 
                ctx.shadowBlur = 50; ctx.shadowColor = "rgba(0,0,0,0.15)";
                ctx.fillRect(0, logicalHeight - panelH, logicalWidth, panelH);
                
                ctx.fillStyle = hoveredArtifact ? "#10b981" : h.color;
                ctx.fillRect(0, logicalHeight - panelH, 8, panelH);
                
                ctx.textAlign = "left";
                ctx.font = `900 ${isMobile ? 32 : 22}px Pretendard`;
                ctx.fillText(title + ": " + h.title, 40, logicalHeight - panelH + (isMobile ? 65 : 55));
                
                ctx.fillStyle = "#334155"; 
                ctx.font = `600 ${isMobile ? 24 : 17}px Pretendard`;
                wrapText(desc, 40, logicalHeight - panelH + (isMobile ? 115 : 95), logicalWidth - 80, isMobile ? 42 : 30);
                ctx.restore();
            }
        }

        function drawRoundedRect(x, y, w, h, r, fill, stroke) {
            ctx.beginPath(); ctx.moveTo(x + r, y); ctx.lineTo(x + w - r, y); ctx.quadraticCurveTo(x + w, y, x + w, y + r); ctx.lineTo(x + w, y + h - r); ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h); ctx.lineTo(x + r, y + h); ctx.quadraticCurveTo(x, y + h, x, y + h - r); ctx.lineTo(x, y + r); ctx.quadraticCurveTo(x, y, x + r, y); ctx.closePath();
            if (fill) ctx.fill(); if (stroke) ctx.stroke();
        }
        function wrapText(text, x, y, maxWidth, lineHeight) {
            const lines = getWrappedLines(text, maxWidth);
            lines.forEach((line, idx) => {
                ctx.fillText(line, x, y + (idx * lineHeight));
            });
        }

        function handlePointer(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = (e.touches && e.touches.length > 0) ? e.touches[0].clientX : e.clientX;
            const clientY = (e.touches && e.touches.length > 0) ? e.touches[0].clientY : e.clientY;
            const mx = (clientX - rect.left) * (logicalWidth / rect.width);
            const my = (clientY - rect.top) * (logicalHeight / rect.height);
            hoveredStep = steps.find(s => s.currentPos && mx >= s.currentPos.x && mx <= s.currentPos.x + s.currentPos.w && my >= s.currentPos.y && my <= s.currentPos.y + s.currentPos.h);
            hoveredArtifact = artifactBoxes.find(b => mx >= b.x && mx <= b.x + b.w && my >= b.y && my <= b.y + b.h);
            canvas.style.cursor = (hoveredStep || hoveredArtifact) ? 'pointer' : 'default';
            draw();
        }

        canvas.addEventListener('mousemove', handlePointer);
        canvas.addEventListener('touchstart', (e) => { handlePointer(e); }, {passive: false});
        canvas.addEventListener('click', () => { if (hoveredStep) openModal(hoveredStep); });

        function openModal(step) {
            document.getElementById('modal-title').innerText = step.title;
            document.getElementById('modal-goal').innerText = step.goal;
            document.getElementById('modal-input').innerText = step.input;
            document.getElementById('modal-prep').innerText = step.prep;
            document.getElementById('modal-output').innerText = step.output;
            const sc = document.getElementById('modal-sources'); sc.innerHTML = '';
            step.sources.forEach(src => {
                const a = document.createElement('a'); a.href = src.url; a.target = "_blank"; a.className = "source-link";
                a.innerHTML = `<span>${src.name}</span><svg class="w-4 h-4 ml-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>`;
                sc.appendChild(a);
            });
            const cc = document.getElementById('modal-checklist'); cc.innerHTML = '';
            step.checklist.forEach(item => {
                const div = document.createElement('div'); div.className = "checklist-item";
                div.innerHTML = `<span class="text-amber-600 font-black">âœ”</span><span class="flex-1">${item}</span>`;
                cc.appendChild(div);
            });
            const dl = document.getElementById('modal-details'); dl.innerHTML = '';
            step.details.forEach(d => { const li = document.createElement('li'); li.innerText = d; dl.appendChild(li); });
            modal.style.display = 'block'; overlay.style.display = 'block';
            document.body.style.overflow = 'hidden'; modal.scrollTop = 0;
        }
        function closeModal() { modal.style.display = 'none'; overlay.style.display = 'none'; document.body.style.overflow = 'auto'; }
        window.addEventListener('resize', initCanvas);
        overlay.addEventListener('click', closeModal);
        initCanvas();
    </script>
</body>
</html>
